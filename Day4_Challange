package Daycodes;
import java.util.*;

class Book {
    int id;
    String name;
    String author;
    boolean isavailable;

    Book(int id, String name, String author) {
        this.id = id;
        this.name = name;
        this.author = author;
        this.isavailable = true;
    }
}

class Library {
    int count = 0;
    Book[] books = new Book[50];
    public void addBook(int id, String name, String author) {
        books[count] = new Book(id, name, author);
        count++;
        System.out.println("Book Added!");
    }
    public void displayBooks() {
        if (count == 0) {
            System.out.println("No Books Available");
            return;
        }

        for (int i = 0; i < count; i++) {
            System.out.println("ID: " + books[i].id );
            System.out.println( " Name: " + books[i].name);   
            System.out.println( " Author: " + books[i].author);                 
            System.out.println(" Available: " + books[i].isavailable);
        }
        System.out.println();
    }
    public void searchBook(int id) {
        for (int i = 0; i < count; i++) {
            if (books[i].id == id) {
                System.out.println("Book Found!");
                System.out.println("ID: " + books[i].id);
                System.out.println("Name: " + books[i].name);
                System.out.println("Author: " + books[i].author);
                System.out.println("Available: " + books[i].isavailable);
                System.out.println();
                return;
            }
        }
        System.out.println("Book Not Found!");
    }
    public void borrowBook(int id) {
        for (int i = 0; i < count; i++) {
            if (books[i].id == id) {

                if (books[i].isavailable) {
                    books[i].isavailable = false; 
                    System.out.println("Book Borrowed Successfully");
                } else {
                    System.out.println("Book Already Borrowed");
                }
                return;
            }
        }
        System.out.println("Book Not Found!");
    }

    public void returnBook(int id) {
        for (int i = 0; i < count; i++) {
            if (books[i].id == id) {

                if (!books[i].isavailable) {
                    books[i].isavailable = true;   
                    System.out.println("Book Returned Successfully");
                } else {
                    System.out.println("This Book Was Not Borrowed");
                }
                return;
            }
        }
        System.out.println("Book Not Found");
    }

}

public class LibiaryManagement {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        Library lib = new Library();
        String[] usernames = {"Admin", "Maha"};
        String[] passwords = {"1234", "Password"};

        boolean loggedIn = false;

        while (!loggedIn) {
            System.out.println("*****LOGIN*****");
            System.out.print("Enter Username: ");
            String user = sc.next();

            System.out.print("Enter Password: ");
            String pass = sc.next();

            for (int i = 0; i < usernames.length; i++) {
                if (user.equals(usernames[i]) && pass.equals(passwords[i])) {
                    loggedIn = true;
                    System.out.println("Login Successful");
                    break;
                }
            }

            if (!loggedIn) {
                System.out.println("Invalid username or password....Try again");
            }
        }

        int choice;
        do {
            System.out.println("------ LIBRARY MENU ------");
            System.out.println("1. Add Book");
            System.out.println("2. Display Books");
            System.out.println("3. Search Book");
            System.out.println("4. Borrow Book");
            System.out.println("5. Return Book");
            System.out.println("6. Exit");
            System.out.print("Enter your choice: ");

            choice = sc.nextInt();

            switch (choice) {

                case 1:
                    System.out.print("Enter Book ID: ");
                    int id = sc.nextInt();

                    System.out.print("Enter Book Name: ");
                    sc.nextLine();
                    String name = sc.nextLine();

                    System.out.print("Enter Author Name: ");
                    String author = sc.nextLine();

                    lib.addBook(id, name, author);
                    break;

                case 2:
                    lib.displayBooks();
                    break;

                case 3:
                    System.out.print("Enter ID to Search: ");
                    lib.searchBook(sc.nextInt());
                    break;

                case 4:
                    System.out.print("Enter ID to Borrow: ");
                    lib.borrowBook(sc.nextInt());
                    break;

                case 5:
                    System.out.print("Enter ID to Return: ");
                    lib.returnBook(sc.nextInt());
                    break;

                case 6:
                    System.out.println("Thank You!");
                    break;

                default:
                    System.out.println("Invalid Choice!\n");
            }

        } while (choice != 6);
    }
}
